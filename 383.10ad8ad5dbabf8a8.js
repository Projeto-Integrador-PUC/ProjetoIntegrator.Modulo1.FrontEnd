"use strict";(self.webpackChunkProjetoIntegrador_Modulo1_App=self.webpackChunkProjetoIntegrador_Modulo1_App||[]).push([[383],{7383:(M,_,e)=>{e.r(_),e.d(_,{LojaModule:()=>w});var u=e(6895),s=e(4859),c=e(4850),l=e(1572),h=e(7974),P=e(9618),g=e(8594),p=e(7579),v=e(2722),i=e(3900),t=e(4650),O=e(5003),C=e(2279);function j(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.TgZ(3,"div",4)(4,"div",5),t._uU(5),t.qZA(),t._UZ(6,"mat-divider",6),t.TgZ(7,"div",7),t._uU(8),t.ALo(9,"currency"),t.qZA(),t._UZ(10,"mat-divider",6),t.TgZ(11,"div",8),t._uU(12),t.qZA(),t._UZ(13,"mat-divider",9),t.TgZ(14,"button",10),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.adicionarAoCarrinho())}),t._uU(15," Adicionar ao carrinho "),t.qZA()()()()}if(2&n){const o=t.oxw();t.xp6(2),t.s9C("src",o.produto.imagem,t.LSH),t.s9C("alt",o.produto.nome),t.xp6(3),t.Oqu(o.produto.nome),t.xp6(3),t.Oqu(t.xi3(9,5,o.produto.preco,"BRL")),t.xp6(4),t.Oqu(o.produto.descricao)}}let y=(()=>{class n{get loading(){return this.produtosService.loading}constructor(o,a,d){this.route=o,this.produtosService=a,this.carrinho=d,this.destroy$=new p.x}ngOnInit(){this.route.paramMap.pipe((0,v.R)(this.destroy$),(0,i.w)(o=>{const a=Number(o.get("id"));return this.produtosService.obterDetalhesProduto(a)})).subscribe(o=>this.produto=o)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}adicionarAoCarrinho(){this.carrinho.adicionarProduto(this.produto).then(()=>this.carrinho.abrirDialogProdutoAdicionado())}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(g.gz),t.Y36(O.z),t.Y36(C.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detalhes-produto"]],decls:1,vars:1,consts:[["class","detalhes-produto",4,"ngIf"],[1,"detalhes-produto"],[1,"d-inline-flex","w-100"],[1,"image",3,"src","alt"],[1,"d-flex","flex-column","align-items-left","px-4","py-5"],[1,"name"],[1,"my-5"],[1,"ml-auto","price"],[1,"description"],[1,"my-5","w-50"],["mat-raised-button","","color","primary",1,"add-button","w-50",3,"click"]],template:function(o,a){1&o&&t.YNc(0,j,16,8,"div",0),2&o&&t.Q6J("ngIf",a.produto)},dependencies:[u.O5,s.lW,c.d,u.H9],styles:[".detalhes-produto[_ngcontent-%COMP%]{border-style:solid;border-width:2px 0 2px;border-color:#6060604d;height:604px}.detalhes-produto[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:600px;height:600px;border-right:solid 2px rgba(96,96,96,.3)}.detalhes-produto[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:40px}.detalhes-produto[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:36px}.detalhes-produto[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{background-color:#606060;color:#fff;font-size:18px;height:50px}"]}),n})();var f=e(5861),x=e(9808);class D{constructor(r){this._pagina=1,this._quantidade=8,this._loading=!1,this._produtos=[],this._totalProdutos=0,this._lojaService=r}get pagina(){return this._pagina}get quantidade(){return this._quantidade}get loading(){return this._loading}get produtos(){return this._produtos}get totalProdutos(){return this._totalProdutos}iniciar(){var r=this;return(0,f.Z)(function*(){r._loading=!0;const o=yield(0,x.n)(r._lojaService.obterProdutosPaginados(r._pagina,r._quantidade));r._produtos=o,r._totalProdutos=o[0].totalProdutos,r._loading=!1})()}proximaPagina(){var r=this;return(0,f.Z)(function*(){r._pagina++,r._loading=!0,r._produtos=yield(0,x.n)(r._lojaService.obterProdutosPaginados(r._pagina,r._quantidade)),r._loading=!1})()}paginaAnterior(){var r=this;return(0,f.Z)(function*(){1!==r._pagina&&(r._pagina--,r._loading=!0,r._produtos=yield(0,x.n)(r._lojaService.obterProdutosPaginados(r._pagina,r._quantidade)),r._loading=!1)})()}}var L=e(4004),T=e(411),Z=e(529);let A=(()=>{class n{constructor(o){this.httpClient=o}obterProdutosPaginados(o,a){return this.httpClient.get(`${T.b}/produtos/paginado?pagina=${o}&quantidade=${a}`).pipe((0,L.U)(d=>d.dados))}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(Z.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b=(()=>{class n{constructor(){this.adicionarProduto=new t.vpe,this.irParaDetalhes=new t.vpe}adicionar(){this.adicionarProduto.emit(this.produto)}abrirDetalhes(){this.irParaDetalhes.emit(this.produto)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-produto"]],inputs:{produto:"produto"},outputs:{adicionarProduto:"adicionarProduto",irParaDetalhes:"irParaDetalhes"},decls:11,vars:7,consts:[[1,"produto","p-3","d-flex","flex-column","align-items-center"],[1,"clickable",3,"click"],[1,"produto-imagem",3,"src","alt"],[1,"produto-info","d-flex","flex-column","align-items-center"],[1,"produto-nome","mt-2"],[1,"produto-preco"],["mat-raised-button","","color","white",1,"produto-adicionar",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return a.abrirDetalhes()}),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"p",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.ALo(8,"currency"),t.qZA()()(),t.TgZ(9,"button",6),t.NdJ("click",function(){return a.adicionar()}),t._uU(10,"Adicionar"),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("src",a.produto.imagem,t.LSH)("alt",a.produto.nome),t.xp6(3),t.Oqu(a.produto.nome),t.xp6(2),t.Oqu(t.xi3(8,4,a.produto.preco,"BRL")))},dependencies:[s.lW,u.H9],styles:[".produto[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px;border-radius:5px;margin:15px;min-height:520px}.produto-imagem[_ngcontent-%COMP%]{width:300px;height:300px}.produto-nome[_ngcontent-%COMP%]{font-size:25px;text-align:center}.produto-preco[_ngcontent-%COMP%]{font-size:25px;font-weight:500;color:#000}.produto-adicionar[_ngcontent-%COMP%]{width:50%;border-radius:25px}.clickable[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function E(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"div",5)(1,"app-produto",6),t.NdJ("adicionarProduto",function(d){t.CHM(o);const m=t.oxw(2);return t.KtG(m.adicionarProduto(d))})("irParaDetalhes",function(d){t.CHM(o);const m=t.oxw(2);return t.KtG(m.abrirDetalhes(d))}),t.qZA()()}if(2&n){const o=r.$implicit;t.xp6(1),t.Q6J("produto",o)}}const I=function(n){return[n]};function S(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"div",2),t.YNc(1,E,2,1,"div",3),t.TgZ(2,"mat-paginator",4),t.NdJ("page",function(d){t.CHM(o);const m=t.oxw();return t.KtG(m.atualizarPagina(d))}),t.qZA()()}if(2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.paginator.produtos),t.xp6(1),t.Q6J("pageIndex",o.paginator.pagina-1)("length",o.paginator.totalProdutos)("pageSize",o.paginator.quantidade)("pageSizeOptions",t.VKq(5,I,o.paginator.quantidade))}}function U(n,r){1&n&&(t.TgZ(0,"div",7),t._UZ(1,"mat-spinner",8),t.qZA()),2&n&&(t.xp6(1),t.Q6J("diameter",80))}const z=[{path:"",component:(()=>{class n{constructor(o,a,d){this.carrinho=o,this.lojaService=a,this.router=d,this.paginator=new D(this.lojaService),this.pagina=1,this.quantidade=10}ngOnInit(){this.paginator.iniciar()}adicionarProduto(o){var a=this;return(0,f.Z)(function*(){yield a.carrinho.adicionarProduto(o),a.carrinho.abrirDialogProdutoAdicionado()})()}abrirDetalhes(o){this.router.navigate(["produtos",o.id])}atualizarPagina(o){"number"==typeof o.previousPageIndex&&(o.previousPageIndex<o.pageIndex?this.paginator.proximaPagina():o.previousPageIndex>o.pageIndex&&this.paginator.paginaAnterior())}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(C.e),t.Y36(A),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-loja"]],decls:3,vars:2,consts:[["class","loja-vitrine row",4,"ngIf","ngIfElse"],["loadingScreen",""],[1,"loja-vitrine","row"],["class","col-3",4,"ngFor","ngForOf"],[3,"pageIndex","length","pageSize","pageSizeOptions","page"],[1,"col-3"],[3,"produto","adicionarProduto","irParaDetalhes"],[1,"loading","d-flex","align-items-center","justify-content-center","my-5"],[3,"diameter"]],template:function(o,a){if(1&o&&(t.YNc(0,S,3,7,"div",0),t.YNc(1,U,2,1,"ng-template",null,1,t.W1O)),2&o){const d=t.MAs(2);t.Q6J("ngIf",a.paginator&&!a.paginator.loading)("ngIfElse",d)}},dependencies:[u.sg,u.O5,h.NW,l.Ou,b]}),n})()},{path:":id",component:y}];let F=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(z),g.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,F,s.ot,c.t,h.TU,l.Cq,P.m]}),n})()},5003:(M,_,e)=>{e.d(_,{z:()=>g});var u=e(1135),s=e(8505),c=e(4004),l=e(411),h=e(4650),P=e(529);let g=(()=>{class p{constructor(i){this.http=i,this._loading=new u.X(!1)}get loading(){return this._loading.value}obterCategorias(){return this._loading.next(!0),this.http.get(l.b+"/produtos/categorias").pipe((0,s.b)(i=>{if(!i.sucesso||!i.dados)throw new Error(i.mensagem)}),(0,c.U)(i=>i.dados??[]),(0,s.b)(()=>this._loading.next(!1)))}obterProdutosDestaque(){return this._loading.next(!0),this.http.get(l.b+"/produtos/destaques").pipe((0,s.b)(i=>{if(!i.sucesso||!i.dados)throw new Error(i.mensagem)}),(0,c.U)(i=>i.dados??[]),(0,s.b)(()=>this._loading.next(!1)))}obterDetalhesProduto(i){return this._loading.next(!0),this.http.get(l.b+"/produtos/"+i).pipe((0,s.b)(t=>{if(!t.sucesso||!t.dados)throw new Error(t.mensagem)}),(0,c.U)(t=>t.dados),(0,s.b)(()=>this._loading.next(!1)))}}return p.\u0275fac=function(i){return new(i||p)(h.LFG(P.eN))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);