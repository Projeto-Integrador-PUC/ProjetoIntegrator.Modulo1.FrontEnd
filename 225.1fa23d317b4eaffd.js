"use strict";(self.webpackChunkProjetoIntegrador_Modulo1_App=self.webpackChunkProjetoIntegrador_Modulo1_App||[]).push([[225],{5225:(P,m,n)=>{n.r(m),n.d(m,{LojaModule:()=>O});var p=n(6895),s=n(4859),c=n(4850),h=n(9618),l=n(8594),g=n(7579),v=n(2722),a=n(3900),o=n(4650),r=n(5003),i=n(102);function C(t,d){if(1&t){const e=o.EpF();o.TgZ(0,"div",1)(1,"div",2),o._UZ(2,"img",3),o.TgZ(3,"div",4)(4,"div",5),o._uU(5),o.qZA(),o._UZ(6,"mat-divider",6),o.TgZ(7,"div",7),o._uU(8),o.ALo(9,"currency"),o.qZA(),o._UZ(10,"mat-divider",6),o.TgZ(11,"div",8),o._uU(12),o.qZA(),o._UZ(13,"mat-divider",9),o.TgZ(14,"button",10),o.NdJ("click",function(){o.CHM(e);const f=o.oxw();return o.KtG(f.adicionarAoCarrinho())}),o._uU(15," Adicionar ao carrinho "),o.qZA()()()()}if(2&t){const e=o.oxw();o.xp6(2),o.s9C("src",e.produto.imagem,o.LSH),o.s9C("alt",e.produto.nome),o.xp6(3),o.Oqu(e.produto.nome),o.xp6(3),o.Oqu(o.xi3(9,5,e.produto.preco,"BRL")),o.xp6(4),o.Oqu(e.produto.descricao)}}const x=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-loja"]],decls:2,vars:0,template:function(e,u){1&e&&(o.TgZ(0,"p"),o._uU(1,"loja works!"),o.qZA())}}),t})()},{path:":id",component:(()=>{class t{get loading(){return this.produtosService.loading}constructor(e,u,f){this.route=e,this.produtosService=u,this.carrinho=f,this.destroy$=new g.x}ngOnInit(){this.route.paramMap.pipe((0,v.R)(this.destroy$),(0,a.w)(e=>{const u=Number(e.get("id"));return this.produtosService.obterDetalhesProduto(u)})).subscribe(e=>this.produto=e)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}adicionarAoCarrinho(){this.carrinho.adicionarProduto(this.produto).then(()=>this.carrinho.abrirDialogProdutoAdicionado())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(l.gz),o.Y36(r.z),o.Y36(i.e))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-detalhes-produto"]],decls:1,vars:1,consts:[["class","detalhes-produto",4,"ngIf"],[1,"detalhes-produto"],[1,"d-inline-flex","w-100"],[1,"image",3,"src","alt"],[1,"d-flex","flex-column","align-items-left","px-4","py-5"],[1,"name"],[1,"my-5"],[1,"ml-auto","price"],[1,"description"],[1,"my-5","w-50"],["mat-raised-button","","color","primary",1,"add-button","w-50",3,"click"]],template:function(e,u){1&e&&o.YNc(0,C,16,8,"div",0),2&e&&o.Q6J("ngIf",u.produto)},dependencies:[p.O5,s.lW,c.d,p.H9],styles:[".detalhes-produto[_ngcontent-%COMP%]{border-style:solid;border-width:2px 0 2px;border-color:#6060604d;height:804px}.detalhes-produto[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:800px;height:800px;border-right:solid 2px rgba(96,96,96,.3)}.detalhes-produto[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:40px}.detalhes-produto[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:36px}.detalhes-produto[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{background-color:#606060;color:#fff;font-size:18px;height:50px}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[l.Bz.forChild(x),l.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[p.ez,M,s.ot,c.t,h.m]}),t})()},5003:(P,m,n)=>{n.d(m,{z:()=>v});var p=n(1135),s=n(8505),c=n(4004),h=n(411),l=n(4650),g=n(529);let v=(()=>{class a{constructor(r){this.http=r,this._loading=new p.X(!1)}get loading(){return this._loading.value}obterCategorias(){return this._loading.next(!0),this.http.get(h.b+"/produtos/categorias").pipe((0,s.b)(r=>{if(!r.sucesso||!r.dados)throw new Error(r.mensagem)}),(0,c.U)(r=>r.dados??[]),(0,s.b)(()=>this._loading.next(!1)))}obterProdutosDestaque(){return this._loading.next(!0),this.http.get(h.b+"/produtos/destaques").pipe((0,s.b)(r=>{if(!r.sucesso||!r.dados)throw new Error(r.mensagem)}),(0,c.U)(r=>r.dados??[]),(0,s.b)(()=>this._loading.next(!1)))}obterDetalhesProduto(r){return this._loading.next(!0),this.http.get(h.b+"/produtos/"+r).pipe((0,s.b)(i=>{if(!i.sucesso||!i.dados)throw new Error(i.mensagem)}),(0,c.U)(i=>i.dados),(0,s.b)(()=>this._loading.next(!1)))}}return a.\u0275fac=function(r){return new(r||a)(l.LFG(g.eN))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);